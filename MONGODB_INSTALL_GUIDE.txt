MONGODB INSTALLATION GUIDE FOR macOS
====================================

You have TWO options:

OPTION 1: Install MongoDB Locally (Recommended for Development)
───────────────────────────────────────────────────────────────

Step 1: Install MongoDB using Homebrew
  brew tap mongodb/brew
  brew install mongodb-community

Step 2: Start MongoDB Service
  brew services start mongodb-community

Step 3: Verify MongoDB is Running
  mongosh
  # If it connects, type 'exit' to quit

Step 4: Your .env file should have:
  MONGODB_URI=mongodb://localhost:27017/e2ee-messaging

That's it! The server will now connect to MongoDB.


OPTION 2: Use MongoDB Atlas (Cloud - FREE, No Installation Needed)
──────────────────────────────────────────────────────────────────

This is EASIER if you don't want to install MongoDB locally!

Step 1: Go to https://www.mongodb.com/cloud/atlas/register
  - Create a free account
  - It's completely free for development

Step 2: Create a Free Cluster
  - Click "Build a Database"
  - Choose "FREE" (M0) tier
  - Select a cloud provider and region
  - Click "Create"

Step 3: Create Database User
  - Go to "Database Access" → "Add New Database User"
  - Choose "Password" authentication
  - Create username and password (SAVE THESE!)
  - Set privileges to "Atlas admin" or "Read and write to any database"
  - Click "Add User"

Step 4: Whitelist Your IP
  - Go to "Network Access" → "Add IP Address"
  - Click "Add Current IP Address" (or use 0.0.0.0/0 for development)
  - Click "Confirm"

Step 5: Get Connection String
  - Go to "Database" → Click "Connect" on your cluster
  - Choose "Connect your application"
  - Copy the connection string
  - It looks like: mongodb+srv://<username>:<password>@cluster0.xxxxx.mongodb.net/

Step 6: Update Your .env File
  - Open backend/.env
  - Replace MONGODB_URI with:
    MONGODB_URI=mongodb+srv://YOUR_USERNAME:YOUR_PASSWORD@cluster0.xxxxx.mongodb.net/e2ee-messaging?retryWrites=true&w=majority
  - Replace YOUR_USERNAME and YOUR_PASSWORD with what you created in Step 3
  - Replace cluster0.xxxxx.mongodb.net with your actual cluster address

Step 7: Restart Your Server
  - The server should now connect successfully!


QUICK START (Choose One):
─────────────────────────

For Local MongoDB:
  1. brew tap mongodb/brew
  2. brew install mongodb-community
  3. brew services start mongodb-community
  4. Done!

For MongoDB Atlas (Easier):
  1. Sign up at mongodb.com/cloud/atlas
  2. Create free cluster
  3. Get connection string
  4. Update .env file
  5. Done!


CURRENT STATUS:
───────────────
✅ Server code updated - it will start even without MongoDB
✅ CORS fixed - frontend can now communicate with backend
⚠️  MongoDB not installed - choose one of the options above

After installing MongoDB (local or Atlas), restart your server:
  cd backend
  npm run dev

